<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	template="/layout/template_edit.xhtml">

	<ui:define name="head">
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/common/css/bootstrap.min.css" />
		<link rel="stylesheet" type="text/css" href="#{request.contextPath}/stylesheet/admin/quick-start.css" />
	</ui:define>

	<ui:define name="body">
		#{quickStartHome.wire()}
		<h:form id="mainForm" styleClass="edit" enctype="multipart/form-data">
			<div class="pd0-10">
				<div class="exhibition-area">
					<div class="menu-mask-layer-wrapper">
						<div class="menu-mask-layer-contents"></div>
					</div>
					<ul class="function-container"><!-- js填充 --></ul>
				</div>
				<div class="pt50 pb95">
					<table class="normal-btn">
						<tr>
							<td>
								<h:inputHidden id="configureHidden" value="#{quickStartHome.configure}" />
								<h:commandButton id="update" value="保存" onclick="return beforeSubmit();" action="#{quickStartHome.update}" styleClass="btn btn-primary mr15" />
							</td>
						</tr>
					</table>
					<br />
					<br />
				</div>
			</div>
		</h:form>
		<script type="text/javascript" src="#{request.contextPath}/common/js/bootstrap.min.js" />
		<script type="text/javascript" src="#{request.contextPath}/javascript/admin/quick-start.js" />
		<script type="text/javascript">
		//<![CDATA[
			menuInfoJsonArray = #{sessionToken.menuInfoJsonArray};// 功能菜单
			quickStartConfig = '#{quickStartHome.configure}';// 快捷启动配置
			
			jQuery(document).ready(function() {
			    var message = '#{quickStartHome.message}';
			    if (message != '') {
					___msg('温馨提示', message);
			    }
			    
			    loadSelected();// 加载已选择的功能菜单
			    
			    alert('建议在右侧增加更多的功能，例如全选、全部选，展开所有，收起所有。。。');
			});
			
			//提交表单前
			function beforeSubmit() {
				jQuery('#mainForm\\:configureHidden').val(ergodicSelected());// 遍历用户已选择的功能菜单
			}
		//]]>
		</script>
	</ui:define>

</ui:composition>
